import{j as e,f as x}from"./ConfirmationContext-BgD69WF4.js";import{r as u}from"./vendor-CfxRerCp.js";const b=({posts:i=[]})=>{const[c,n]=u.useState(""),o=i.filter(l=>l.title.toLowerCase().includes(c.toLowerCase())||l.topic.toLowerCase().includes(c.toLowerCase()));return e.jsxs("div",{className:"rounded-lg !pb-4",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"Search Posts"}),e.jsx("input",{type:"text",value:c,onChange:l=>n(l.target.value),placeholder:"Search by title or topic",className:"w-50 md:w-70 !p-2 rounded border border-[#5800FF]/30 focus:outline-none focus:ring-2 focus:ring-[#5800FF]/50"}),c.length>0&&e.jsx("ul",{className:"!space-y-1 max-h-48 overflow-y-auto",children:o.length>0?o.map(l=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>x.visit(`/post/${l.id}`),className:"w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20",children:[e.jsx("span",{className:"font-medium",children:l.title}),e.jsx("span",{className:"text-xs opacity-60 block",children:l.topic})]})},l.id)):e.jsx("li",{className:"text-sm opacity-60 italic !mt-4 !ml-2",children:"No matches found"})})]})},N=({posts:i=[]})=>{const c=new Date().getFullYear().toString(),[n,o]=u.useState(c),[l,h]=u.useState(null),r=i.reduce((s,t)=>{const a=new Date(t.created_at),d=a.getFullYear().toString(),m=a.toLocaleString("en-US",{month:"long"});return s[d]||(s[d]={}),s[d][m]||(s[d][m]=[]),s[d][m].push(t),s},{}),p=Object.keys(r).sort((s,t)=>Number(t)-Number(s));return e.jsxs("div",{className:"rounded-lg !pb-4 !mt-8",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"All Posts"}),e.jsxs("ul",{className:"!space-y-1",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>o(null),className:`w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20 ${n===null?"bg-[#5800FF] font-semibold text-white":""}`,children:[e.jsx("span",{className:"font-medium",children:"All"}),e.jsxs("span",{className:"text-xs opacity-60 !ml-2",children:["(",i.length,")"]})]})},"all"),p.map(s=>e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>o(n===s?null:s),className:`w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20 ${n===s?"bg-[#5800FF] font-semibold text-white":""}`,children:[e.jsx("span",{className:"font-medium",children:s}),e.jsxs("span",{className:"text-xs opacity-60 !ml-2",children:["(",Object.values(r[s]).flat().length,")"]})]}),n===s&&e.jsx("ul",{className:"!ml-4 !mt-2 !space-y-1",children:Object.keys(r[s]).map(t=>e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>h(l===t?null:t),className:`w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20 ${l===t?"bg-[#5800FF] font-semibold text-white":""}`,children:[e.jsx("span",{className:"font-medium",children:t}),e.jsxs("span",{className:"text-xs opacity-60 !ml-2",children:["(",r[s][t].length,")"]})]}),l===t&&e.jsx("ul",{className:"!ml-4 !mt-2 space-y-1",children:r[s][t].map(a=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>x.visit(`/post/${a.id}`),className:"w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20",children:[e.jsx("span",{className:"font-medium",children:a.title}),e.jsx("span",{className:"text-xs opacity-60 block",children:a.topic})]})},a.id))})]},t))})]},s))]}),n===null&&e.jsx("ul",{className:"!ml-4 !mt-2 space-y-1",children:i.map(s=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>x.visit(`/post/${s.id}`),className:"w-full text-left !px-2 !py-1 rounded hover:bg-[#5800FF]/20",children:[e.jsx("span",{className:"font-medium",children:s.title}),e.jsx("span",{className:"text-xs opacity-60 block",children:s.topic})]})},s.id))})]})};export{b as S,N as Y};

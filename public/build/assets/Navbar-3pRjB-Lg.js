import{b as u,j as e,f,q as g,u as v,J as r}from"./ConfirmationContext-BgD69WF4.js";import{r as j}from"./vendor-CfxRerCp.js";import{a as b}from"./axiosInstance-XGWuhqFT.js";async function F(){try{await b.get("/sanctum/csrf-cookie")}catch(t){console.error("Error while getting CSRF token:",t)}}const N=()=>{const{showAlert:t}=u(),o=async()=>{await F(),f.post("/logout",{},{onSuccess:()=>{t("You have signed out!","success")}})};return e.jsx("button",{onClick:o,children:"Sign Out"})};function C(){const t=g().props,{theme:o,toggleTheme:i}=v(),[a,m]=j.useState(!1),l=n=>"auth"in n,c=()=>{var n;if(l(t)){const s=(n=t.auth)==null?void 0:n.user,h=s?!!s.is_admin:!1,d=s!=null&&s.profile_photo_path?`/uploads/${s.profile_photo_path}?w=40&h=40`:s!=null&&s.is_anonymous?"/anon-icon.svg":"/default-user-icon.svg",p=d==="/default-user-icon.svg";return e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:!gap-6 2xl:!pl-40 custompadding",children:[s&&e.jsxs("div",{className:"flex items-center !gap-2",children:[e.jsxs("span",{className:"text-[#FFC600] font-semibold min-w-[150px]",children:["Welcome, ",s.name,"!"]}),e.jsx("img",{src:d,alt:"Profile",className:`w-10 h-10 !ml-4 !mr-10 rounded-full object-cover ${p&&o==="dark"?"filter invert":""}`})]}),e.jsx(r,{href:"/privacy-policy",className:"hover:text-purple-400 min-w-[100px]",children:"Privacy Policy"}),e.jsx(r,{href:"/",className:"hover:text-purple-400 min-w-[100px]",children:"Main Page"}),h&&e.jsx(r,{href:"/admin",className:"hover:text-purple-400 min-w-[100px]",children:"Admin Dashboard"})]})}return null},x=()=>{var n;if(l(t)){const s=(n=t.auth)==null?void 0:n.user;return e.jsxs("div",{className:"flex flex-col md:flex-row items-center !gap-4 md:!gap-6",children:[e.jsx("button",{onClick:i,className:"!p-2 !mt-2 sm:!mt-0 hover:text-[#FFC600] transition-colors scale-125",children:o==="dark"?"ðŸŒž":"ðŸŒ™"}),s?e.jsxs(e.Fragment,{children:[s.is_anonymous?e.jsx("span",{className:"text-gray-500",children:"Anonymous User"}):e.jsx(r,{href:"/account",className:"!px-4 !py-2 rounded bg-[#5800FF] text-white hover:bg-[#E900FF] transition-colors",children:"My Account"}),e.jsx(N,{})]}):e.jsx(r,{href:route("login"),className:"!px-4 !py-2 rounded bg-[#5800FF] text-white hover:bg-[#E900FF] transition-colors !mb-4 md:!mb-0",children:"Sign In"})]})}return e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6",children:[e.jsx("button",{onClick:i,className:"!p-2 hover:text-[#FFC600] transition-colors",children:o==="dark"?"ðŸŒž":"ðŸŒ™"}),e.jsx(r,{href:route("login"),className:"!px-4 !py-2 rounded bg-[#5800FF] text-white hover:bg-[#E900FF] transition-colors !mb-4 md:!mb-0",children:"Sign In"})]})};return e.jsxs("nav",{className:"sticky top-0 z-10 bg-[var(--nav-bg)] text-[var(--nav-text)] !p-4 flex items-center",children:[e.jsx("div",{className:"hidden md:flex flex-1 justify-start items-center",children:c()}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{className:"md:hidden !p-2 text-[#FFC600] hover:text-[#E900FF] transition-colors scale-160",onClick:()=>m(!a),children:a?"âœ–":"â˜°"})}),e.jsxs("div",{className:`${a?"block":"hidden"} md:flex flex-col md:flex-row items-center gap-4 md:gap-6 absolute md:static top-16 left-0 w-full md:w-auto bg-[var(--nav-bg)] md:bg-transparent !p-4 md:!p-0 shadow-sm shadow-black md:shadow-none`,children:[e.jsx("div",{className:"md:hidden",children:c()}),x()]})]})}export{C as N,F as g};

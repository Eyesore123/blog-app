import{q as b,u as f,j as e,f as x}from"./ConfirmationContext-DK_-GFGj.js";import{T as u}from"./index-DSz_xmn9.js";import{B as N}from"./BlogPost-DTODCVhO.js";import{H as F}from"./Header-gtXVReKQ.js";import{N as v}from"./Navbar-BhEc0PNi.js";import{S as y,Y as w}from"./YearFilterComponent-BJgsd0x-.js";import{A as C,R as P,a as S}from"./RssSubscribeLink-C7v8JYT1.js";import"./axiosInstance-Hn551h6z.js";import"react-helmet-async";import"react-markdown";import"./Spinner4-DhgEGjYq.js";function O(){var d,p;const{props:r}=b(),{theme:h}=f(),{posts:o,allPosts:n,topics:i,currentTopic:t,currentPage:l,hasMore:g,total:j}=r;(p=(d=r.auth)==null?void 0:d.user)!=null&&p.is_admin;const c=s=>{const a=new URLSearchParams;t&&a.append("topic",t),a.append("page",(s+1).toString()),x.get("/",Object.fromEntries(a))},m=s=>{const a=new URLSearchParams;s&&a.append("topic",s),x.get("/",Object.fromEntries(a))};return e.jsx("div",{className:`min-h-160 ${h}`,children:e.jsxs("div",{className:"min-h-160 bg-[var(--bg-primary)] text-[var(--text-primary)]",children:[e.jsx(v,{}),e.jsx(F,{}),e.jsx("main",{className:"!p-4 md:!p-8 !gap-1",children:e.jsxs("div",{className:"w-full !mx-auto flex flex-col lg:flex-row md:!gap-0",children:[e.jsx("aside",{className:"w-full lg:!w-120 lg:!ml-30 !mb-8 lg:!mb-0",children:e.jsxs("div",{className:"lg:top-24 !space-y-4 md:!space-y-6 w-full lg:!w-80 xl:!w-120",children:[e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"About"}),e.jsx("p",{className:"opacity-80",children:"Welcome to my personal blog where I share my thoughts and experiments with web development, design, and technology."})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"Topics"}),e.jsxs("ul",{className:"!space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>m(null),className:`w-full text-left !px-2 !py-1 rounded ${t===null?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:"All Topics"})}),i&&i.length>0?i.map(s=>e.jsx("li",{children:e.jsx("button",{onClick:()=>m(s),className:`w-full text-left !px-2 !py-1 rounded ${t===s?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:s})},s)):e.jsx("li",{className:"!ml-2",children:"No topics available"})]})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx(y,{posts:n.data}),e.jsx(w,{posts:n.data}),e.jsx(C,{}),e.jsx(P,{}),e.jsx(S,{})]})]})}),e.jsx("div",{className:"lg:flex-1 flex flex-col items-center",children:e.jsx("div",{className:"!space-y-6 md:!space-y-8",children:o.length===0?e.jsx("div",{className:"text-center opacity-70 !mt-8 md:!mt-30",children:"No blog posts yet."}):e.jsxs(e.Fragment,{children:[o.map(s=>e.jsx("div",{className:"flex-1 justify-center items-center flex flex-col w-full",children:e.jsx(N,{post:{...s,_id:s.id.toString(),postUrl:"/posts/"+s.slug}})},s.id)),e.jsxs("div",{className:"flex justify-center items-center !gap-4 md:!gap-10 !mt-8 md:!mt-18",children:[e.jsx("button",{onClick:()=>c(l-1),disabled:l===0,className:"!px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Previous"}),e.jsxs("span",{className:"text-sm md:text-base",children:["Page ",l+1," of ",Math.ceil(j/6)]}),e.jsx("button",{onClick:()=>c(l+1),disabled:!g,className:"!px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Next"})]})]})})})]})}),e.jsx(u,{})]})})}export{O as default};

import{q as b,u,j as e,f as r}from"./ConfirmationContext-_sHM_c2k.js";import{T as f}from"./MainPage-Ck8ME8iV.js";import{B as N}from"./BlogPost-BWwUE4rp.js";import{H as F}from"./Header-D_7cMqG9.js";import{N as v}from"./Navbar-BvdoVYAz.js";import{S as y,Y as w}from"./YearFilterComponent-Ci_tXxEh.js";import{A as C,R as T,a as k}from"./RssSubscribeLink-BiM0C643.js";import"./vendor-CfxRerCp.js";import"./axiosInstance-tLBeUCrM.js";import"./Spinner4-DwDaG3mx.js";import"./index-BjH0yUVE.js";function U(){var d;const{props:p}=b(),{theme:h}=u(),{posts:a=[],activeTag:t=null,topics:n=[],currentTopic:c=null,allPosts:l,currentPage:i,hasMore:g,total:j,auth:o}=p;(d=o==null?void 0:o.user)!=null&&d.is_admin;const m=s=>{const x=new URLSearchParams;s&&x.append("topic",s),r.get("/",Object.fromEntries(x))};return e.jsx("div",{className:`min-h-160 ${h}`,children:e.jsxs("div",{className:"min-h-160 bg-[var(--bg-primary)] text-[var(--text-primary)]",children:[e.jsx(v,{}),e.jsx(F,{}),e.jsx("main",{className:"!p-4 md:!p-8 !gap-1",children:e.jsxs("div",{className:"w-full !mx-auto flex flex-col lg:flex-row md:!gap-0",children:[e.jsx("aside",{className:"w-full lg:!w-120 lg:!ml-30 !mb-8 lg:!mb-0",children:e.jsxs("div",{className:"lg:sticky lg:top-24 !space-y-4 md:!space-y-6 w-full lg:!w-80 xl:!w-120",children:[e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"About"}),e.jsx("p",{className:"opacity-80",children:"Welcome to my personal blog where I share my thoughts and experiments with web development, design, and technology."})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"Topics"}),e.jsxs("ul",{className:"!space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>m(null),className:`w-full text-left !px-2 !py-1 rounded ${c===null?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:"All Topics"})}),n.length>0?n.map(s=>e.jsx("li",{children:e.jsx("button",{onClick:()=>m(s),className:`w-full text-left !px-2 !py-1 rounded ${c===s?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:s})},s)):e.jsx("li",{className:"!ml-2",children:"No topics available"})]})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4",children:[e.jsx(y,{posts:(l==null?void 0:l.data)||a}),e.jsx(w,{posts:(l==null?void 0:l.data)||a}),e.jsx(C,{}),e.jsx(T,{}),e.jsx(k,{})]})]})}),e.jsx("div",{className:"lg:flex-1 flex flex-col items-center",children:e.jsxs("div",{className:"!space-y-6 md:!space-y-8 w-full max-w-2xl",children:[t&&e.jsxs("h2",{className:"text-2xl font-bold !mb-8 xl:!ml-10",children:["Posts tagged ",e.jsxs("span",{className:"text-[#5800FF]",children:["#",t,":"]})]}),a.length===0?e.jsxs("div",{className:"text-center opacity-70 !mt-8",children:["No posts found",t?` for #${t}`:"","."]}):a.map(s=>e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(N,{post:{...s,_id:s.id.toString(),postUrl:`/posts/${s.slug}`}})},s.id)),l&&e.jsxs("div",{className:"flex justify-center items-center !gap-4 md:!gap-10 !mt-8 md:!mt-18",children:[e.jsx("button",{onClick:()=>r.get("/",{page:i||0}),disabled:(i||0)===0,className:"!px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Previous"}),e.jsxs("span",{className:"text-sm md:text-base",children:["Page ",(i||0)+1," of ",Math.ceil((j||a.length)/6)]}),e.jsx("button",{onClick:()=>r.get("/",{page:(i||0)+2}),disabled:!g,className:"!px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Next"})]})]})})]})}),e.jsx(f,{})]})})}export{U as default};

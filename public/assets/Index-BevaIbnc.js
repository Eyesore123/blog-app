import{q as j,u as v,j as e,f as c}from"./axiosInstance-B60J37ny.js";import{r as p}from"./vendor-CfxRerCp.js";import{T as N}from"./index-BgMHZnzL.js";import{B as F}from"./BlogPost-BOJTk0jN.js";import{H as w}from"./Header-DLvWApgL.js";import{N as y}from"./app-BZ86fJkl.js";import{S as T,Y as C}from"./YearFilterComponent-CahbW65Z.js";import{A as k,R}from"./RssSubscribeLink-DXeeVZF2.js";import{R as E}from"./RecentActivityFeed-CfY4cXK0.js";import"./Spinner4-BhOwiG6x.js";import"./index-BwfBZVYM.js";function _(){var x;const{props:h}=j(),{theme:g}=v(),{posts:l=[],activeTag:a=null,topics:f=[],currentTopic:m=null,allPosts:t,currentPage:i,hasMore:b,total:u,auth:n}=h;(x=n==null?void 0:n.user)!=null&&x.is_admin;const d=s=>{const r=new URLSearchParams;s&&r.append("topic",s),c.get("/",Object.fromEntries(r))},o=p.useRef(null);return p.useEffect(()=>{o.current&&o.current.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})},[]),e.jsx("div",{className:`min-h-160 ${g}`,children:e.jsxs("div",{className:"min-h-160 bg-[var(--bg-primary)] text-[var(--text-primary)]",children:[e.jsx(y,{}),e.jsx(w,{}),e.jsx("main",{className:"!p-4 md:!p-8 !gap-1",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6 custom-2xl-gap",children:[e.jsx("aside",{className:"hidden lg:block w-full md:!w-2/3 xl:!w-2/3 xl:!ml-20 2xl:!ml-30 xl:max-w-120 xl:!mr-10 !mb-8 lg:!mb-0 mx-auto",children:e.jsxs("div",{className:"lg:top-24 !space-y-4 md:!space-y-6 w-full lg:!w-80 xl:!w-120 flexcontainer",children:[e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"About"}),e.jsx("p",{className:"opacity-80",children:"Hi there! This is my personal blog where I explore web development, design, tech, business, and marketing â€” along with the occasional reflection on life and what it means to live in society."})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"Topics"}),e.jsx("div",{className:"!mb-2",children:e.jsx("button",{onClick:()=>d(null),className:`w-full text-left !px-2 !mb-1 !py-1 rounded ${m===null?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:"All Topics"})}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.slice().sort((s,r)=>s.localeCompare(r)).map(s=>e.jsx("button",{onClick:()=>d(s),className:`text-center !px-2 !py-1 rounded border text-sm border-[#5800FF]/30 ${m===s?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:s},s))})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx(T,{posts:(t==null?void 0:t.data)||l}),e.jsx(C,{posts:(t==null?void 0:t.data)||l}),e.jsx(k,{}),e.jsx(R,{}),e.jsx(E,{},"recent-activity-feed")]})]})}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"!space-y-6 md:!space-y-8 w-full max-w-2xl",children:[a&&e.jsxs("h2",{className:"text-2xl font-bold w-full !mb-10 lg:!ml-20 xl:!ml-14 text-center lg:text-left !mt-2",children:["Posts tagged ",e.jsxs("span",{className:"text-[#5800FF]",children:["#",a,":"]})]}),l.length===0?e.jsxs("div",{className:"text-center opacity-70 !mt-8",children:["No posts found",a?` for #${a}`:"","."]}):l.map(s=>e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(F,{post:{...s,_id:s.id.toString(),postUrl:`/posts/${s.slug}`}})},s.id)),t&&e.jsxs("div",{className:"flex justify-center items-center !gap-4 md:!gap-10 !mt-8 md:!mt-18 md:!mb-10 ",children:[e.jsx("button",{ref:o,onClick:()=>c.get("/",{page:i||0}),disabled:(i||0)===0,className:"paginationbutton !px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Previous"}),e.jsxs("span",{className:"text-sm md:text-base",children:["Page ",(i||0)+1," of ",Math.ceil((u||l.length)/6)]}),e.jsx("button",{ref:o,onClick:()=>c.get("/",{page:(i||0)+2}),disabled:!b,className:"paginationbutton !px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Next"})]})]})})]})}),e.jsx(N,{})]})})}export{_ as default};

import{q as j,u as N,j as e,f as r}from"./ConfirmationContext-BgD69WF4.js";import{r as h}from"./vendor-CfxRerCp.js";import{T as v}from"./index-Bgz36SJa.js";import{B as F}from"./BlogPost-JX0jJTsS.js";import{H as w}from"./Header-Bo__bH6N.js";import{N as y}from"./Navbar-3pRjB-Lg.js";import{S as T,Y as k}from"./YearFilterComponent-v280wgLX.js";import{A as C,R}from"./RssSubscribeLink-DEqEFmRz.js";import{R as E}from"./RecentActivityFeed-CLEedQS9.js";import"./axiosInstance-XGWuhqFT.js";import"./Spinner4-BBfDOIyg.js";import"./index-DHe08Kkl.js";function q(){var x;const{props:g}=j(),{theme:f}=N(),{posts:l=[],activeTag:a=null,topics:c=[],currentTopic:m=null,allPosts:t,currentPage:i,hasMore:u,total:b,auth:o}=g;(x=o==null?void 0:o.user)!=null&&x.is_admin;const d=s=>{const p=new URLSearchParams;s&&p.append("topic",s),r.get("/",Object.fromEntries(p))},n=h.useRef(null);return h.useEffect(()=>{n.current&&n.current.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})},[]),e.jsx("div",{className:`min-h-160 ${f}`,children:e.jsxs("div",{className:"min-h-160 bg-[var(--bg-primary)] text-[var(--text-primary)]",children:[e.jsx(y,{}),e.jsx(w,{}),e.jsx("main",{className:"!p-4 md:!p-8 !gap-1",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6 custom-2xl-gap",children:[e.jsx("aside",{className:"hidden lg:block w-full md:!w-2/3 xl:!w-2/3 xl:!ml-20 2xl:!ml-30 xl:max-w-120 xl:!mr-10 !mb-8 lg:!mb-0 mx-auto",children:e.jsxs("div",{className:"lg:top-24 !space-y-4 md:!space-y-6 w-full lg:!w-80 xl:!w-120 flexcontainer",children:[e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"About"}),e.jsx("p",{className:"opacity-80",children:"Hi there! This is my personal blog where I explore web development, design, tech, business, and marketing â€” along with the occasional reflection on life and what it means to live in society."})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx("h3",{className:"font-semibold !mb-2",children:"Topics"}),e.jsxs("ul",{className:"!space-y-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>d(null),className:`w-full text-left !px-2 !py-1 rounded ${m===null?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:"All Topics"})}),c.length>0?c.map(s=>e.jsx("li",{children:e.jsx("button",{onClick:()=>d(s),className:`w-full text-left !px-2 !py-1 rounded ${m===s?"bg-[#5800FF] text-white":"hover:bg-[#5800FF]/20"}`,children:s})},s)):e.jsx("li",{className:"!ml-2",children:"No topics available"})]})]}),e.jsxs("div",{className:"rounded-lg bg-[#5800FF]/10 !p-4 2xl:!pl-6",children:[e.jsx(T,{posts:(t==null?void 0:t.data)||l}),e.jsx(k,{posts:(t==null?void 0:t.data)||l}),e.jsx(C,{}),e.jsx(R,{}),e.jsx(E,{},"recent-activity-feed")]})]})}),e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"!space-y-6 md:!space-y-8 w-full max-w-2xl",children:[a&&e.jsxs("h2",{className:"text-2xl font-bold !mt-4 !mb-8 xl:!ml-42",children:["Posts tagged ",e.jsxs("span",{className:"text-[#5800FF]",children:["#",a,":"]})]}),l.length===0?e.jsxs("div",{className:"text-center opacity-70 !mt-8",children:["No posts found",a?` for #${a}`:"","."]}):l.map(s=>e.jsx("div",{className:"flex flex-col w-full",children:e.jsx(F,{post:{...s,_id:s.id.toString(),postUrl:`/posts/${s.slug}`}})},s.id)),t&&e.jsxs("div",{className:"flex justify-center items-center !gap-4 md:!gap-10 !mt-8 md:!mt-18",children:[e.jsx("button",{ref:n,onClick:()=>r.get("/",{page:i||0}),disabled:(i||0)===0,className:"paginationbutton !px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Previous"}),e.jsxs("span",{className:"text-sm md:text-base",children:["Page ",(i||0)+1," of ",Math.ceil((b||l.length)/6)]}),e.jsx("button",{ref:n,onClick:()=>r.get("/",{page:(i||0)+2}),disabled:!u,className:"paginationbutton !px-3 !py-1 md:!px-4 md:!py-2 bg-[#5800FF] text-white rounded hover:bg-[#E900FF] disabled:opacity-50 transition-colors text-sm md:text-base",children:"Next"})]})]})})]})}),e.jsx(v,{})]})})}export{q as default};
